<h1> Welcome to our {{title}} application </h1>
<div *ngIf='errorMessage'
     class='alert alert-danger'>
  Error: {{ errorMessage }}
</div>
<table class="table table-hover container" *ngIf="todos.length">
  <thead>
  <tr>
    <th (click)="sortBy('title')"> Title <i [class]="getSortClass('title')"></i></th>
    <th (click)="sortBy('description')">Description <i [class]="getSortClass('description')"></i></th>
    <th (click)="sortBy('createdTime')">Created Time <i [class]="getSortClass('createdTime')"></i></th>
    <th (click)="sortBy('isCompleted')">Is Completed <i [class]="getSortClass('completed')"></i></th>
    <th>
      <button class="btn btn-primary" (click)="saveAll()">Save all</button>
    </th>

  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let todo of todos" [class]="todo.isCompleted?'text-decoration-line-through':''">
    <td><input type="text" class="form-control" [(ngModel)]="todo.title" (ngModelChange)="onTitleChange(todo)"></td>
    <td><input type="text" class="form-control"  [(ngModel)]="todo.description"></td>
    <td>{{todo.createdTime}}</td>
    <td><input type="checkbox" [(ngModel)]="todo.isCompleted"></td>
    <td>
      <button *ngIf="todo.title" class="btn btn-danger" (click)='todo?.id === undefined ?deleteEmptyTodoTodo(todo) : deleteTodo(todo?.id)'>
        delete
      </button>
    </td>
  </tr>


  </tbody>
</table>
